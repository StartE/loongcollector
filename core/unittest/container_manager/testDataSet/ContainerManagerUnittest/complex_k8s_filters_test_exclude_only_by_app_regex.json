{
  "containers": [
    {
      "id": "chagee-order-service",
      "labels": {
        "app": "web-service",
        "version": "1.0"
      },
      "env": [
        "APP_NAME=web-service"
      ],
      "k8s": {
        "namespace": "test-env-dev",
        "pod": "chagee-order-pod-001",
        "container_name": "chagee-order",
        "labels": {
          "app": "chagee-order",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-order"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-product-service",
      "labels": {
        "app": "web-service",
        "version": "1.0"
      },
      "env": [
        "APP_NAME=web-service"
      ],
      "k8s": {
        "namespace": "test-env-prod",
        "pod": "chagee-product-pod-001",
        "container_name": "chagee-product",
        "labels": {
          "app": "chagee-product",
          "project": "bduan-cn-shanghai-qianguoneishuj",
          "app.kubernetes.io/name": "chagee-product"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-data-sync",
      "labels": {
        "app": "data-service",
        "version": "2.0"
      },
      "env": [
        "APP_NAME=data-service"
      ],
      "k8s": {
        "namespace": "test-env-staging",
        "pod": "chagee-data-sync-pod-001",
        "container_name": "chagee-data-sync",
        "labels": {
          "app": "chagee-data-sync",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-data-sync"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-kingdee-integration",
      "labels": {
        "app": "integration-service",
        "version": "1.5"
      },
      "env": [
        "APP_NAME=integration-service"
      ],
      "k8s": {
        "namespace": "test-env-qa",
        "pod": "chagee-kingdee-pod-001",
        "container_name": "chagee-kingdee",
        "labels": {
          "app": "chagee-kingdee",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-kingdee"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-baseinfo-service",
      "labels": {
        "app": "baseinfo-service",
        "version": "1.2"
      },
      "env": [
        "APP_NAME=baseinfo-service"
      ],
      "k8s": {
        "namespace": "test-env-uat",
        "pod": "chagee-baseinfo-pod-001",
        "container_name": "chagee-baseinfo",
        "labels": {
          "app": "chagee-baseinfo",
          "project": "bduan-cn-shanghai-qianguoneishuj",
          "app.kubernetes.io/name": "chagee-baseinfo"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-wms-server",
      "labels": {
        "app": "wms-service",
        "version": "2.1"
      },
      "env": [
        "APP_NAME=wms-service"
      ],
      "k8s": {
        "namespace": "test-env-dev",
        "pod": "chagee-wms-server-pod-001",
        "container_name": "chagee-wms-server",
        "labels": {
          "app": "chagee-wms-server",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-wms-server"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-store-pre-build-v1",
      "labels": {
        "app": "store-service",
        "version": "1.8"
      },
      "env": [
        "APP_NAME=store-service"
      ],
      "k8s": {
        "namespace": "test-env-prod",
        "pod": "chagee-store-pre-build-pod-001",
        "container_name": "chagee-store-pre-build",
        "labels": {
          "app": "chagee-store-pre-build-v1",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-store-pre-build"
        },
        "paused_container": false
      }
    },
    {
      "id": "chagee-store-pre-build-v2",
      "labels": {
        "app": "store-service",
        "version": "2.0"
      },
      "env": [
        "APP_NAME=store-service"
      ],
      "k8s": {
        "namespace": "test-env-staging",
        "pod": "chagee-store-pre-build-pod-002",
        "container_name": "chagee-store-pre-build",
        "labels": {
          "app": "chagee-store-pre-build-v2",
          "project": "other-project",
          "app.kubernetes.io/name": "chagee-store-pre-build"
        },
        "paused_container": false
      }
    },
    {
      "id": "personnel-management-api",
      "labels": {
        "app": "personnel-service",
        "version": "1.3"
      },
      "env": [
        "APP_NAME=personnel-service"
      ],
      "k8s": {
        "namespace": "test-env-qa",
        "pod": "personnel-management-pod-001",
        "container_name": "personnel-management",
        "labels": {
          "app": "personnel-management-api",
          "project": "other-project",
          "app.kubernetes.io/name": "personnel-management"
        },
        "paused_container": false
      }
    },
    {
      "id": "personnel-management-worker",
      "labels": {
        "app": "personnel-service",
        "version": "1.3"
      },
      "env": [
        "APP_NAME=personnel-service"
      ],
      "k8s": {
        "namespace": "test-env-uat",
        "pod": "personnel-management-pod-002",
        "container_name": "personnel-management",
        "labels": {
          "app": "personnel-management-worker",
          "project": "other-project",
          "app.kubernetes.io/name": "personnel-management"
        },
        "paused_container": false
      }
    },
    {
      "id": "allowed-app-service",
      "labels": {
        "app": "allowed-service",
        "version": "1.0"
      },
      "env": [
        "APP_NAME=allowed-service"
      ],
      "k8s": {
        "namespace": "test-env-dev",
        "pod": "allowed-app-pod-001",
        "container_name": "allowed-app",
        "labels": {
          "app": "allowed-app-service",
          "project": "allowed-project",
          "app.kubernetes.io/name": "allowed-app"
        },
        "paused_container": false
      }
    },
    {
      "id": "normal-app-service",
      "labels": {
        "app": "normal-service",
        "version": "2.0"
      },
      "env": [
        "APP_NAME=normal-service"
      ],
      "k8s": {
        "namespace": "test-env-prod",
        "pod": "normal-app-pod-001",
        "container_name": "normal-app",
        "labels": {
          "app": "normal-app-service",
          "project": "other-project",
          "app.kubernetes.io/name": "normal-app"
        },
        "paused_container": false
      }
    },
    {
      "id": "excluded-by-project",
      "labels": {
        "app": "excluded-service",
        "version": "1.5"
      },
      "env": [
        "APP_NAME=excluded-service"
      ],
      "k8s": {
        "namespace": "test-env-staging",
        "pod": "excluded-pod-001",
        "container_name": "excluded-container",
        "labels": {
          "app": "excluded-app",
          "project": "bduan-cn-shanghai-qianguoneishuj",
          "app.kubernetes.io/name": "excluded-app"
        },
        "paused_container": false
      }
    },
    {
      "id": "production-excluded-app",
      "labels": {
        "app": "excluded-service",
        "version": "1.0"
      },
      "env": [
        "APP_NAME=excluded-service"
      ],
      "k8s": {
        "namespace": "production",
        "pod": "production-excluded-pod-001",
        "container_name": "excluded-container",
        "labels": {
          "app": "chagee-order",
          "project": "other-project",
          "app.kubernetes.io/name": "excluded-app"
        },
        "paused_container": false
      }
    },
    {
      "id": "production-allowed-app",
      "labels": {
        "app": "allowed-service",
        "version": "1.0"
      },
      "env": [
        "APP_NAME=allowed-service"
      ],
      "k8s": {
        "namespace": "production",
        "pod": "production-allowed-pod-001",
        "container_name": "allowed-container",
        "labels": {
          "app": "production-allowed-app",
          "project": "allowed-project",
          "app.kubernetes.io/name": "allowed-app"
        },
        "paused_container": false
      }
    }
  ],
  "test_cases": [
    {
      "name": "exclude_only_by_app_regex",
      "description": "Exclude containers by app label regex only (no project exclude, no namespace filter)",
      "filters": {
        "ExcludeK8sLabel": {
          "app": "^(chagee-order|chagee-product|chagee-data-sync|chagee-kingdee|chagee-baseinfo|chagee-wms-server|chagee-wms-web|chagee-wms-invertory|chagee-task-center|chagee-store-pre-build.*|chagee-contract-server|personnel-management.*)$"
        }
      },
      "expected_matched_ids": [
        "allowed-app-service",
        "excluded-by-project",
        "normal-app-service",
        "production-allowed-app"
      ]
    }
  ]
}